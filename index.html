<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>KLIKpay â€“ Payment form</title>

<style>
:root{
  --primary:#4e61ac;
  --accent:#facc15;
  --secondary:#f5f7fb;
  --dark:#111827;
  --gray:#6b7280;
  --border:#e5e7eb;
  --input-bg:#ffffff;
}

/* RESET & BASE */
*{
  box-sizing:border-box;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
}
body{
  margin:0;
  background:linear-gradient(180deg,var(--secondary),#eef2f7);
  padding-bottom:180px;
  color:var(--dark);
}

/* HEADER */
.header{
  background:var(--primary);
  padding:18px 16px 22px;
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  border-bottom-left-radius:22px;
  border-bottom-right-radius:22px;
  box-shadow:0 8px 24px rgba(0,0,0,.18);
}
.header img{
  width:70%;
  max-width:220px;
  height:auto;
  object-fit:contain;
}
.header h1{
  text-align:center;
  margin:20px 0 0;
  font-size:23px;
  color:var(--dark);
}

/* CONTAINER */
.container{
  padding:16px;
  margin-top:-18px;
}
.container > *{
  background:#fff;
  padding:14px;
  border-radius:18px;
  box-shadow:0 10px 20px rgba(0,0,0,.08);
}
.container > * + *{
  margin-top:14px;
}

/* LABEL */
label{
  display:block;
  margin-top:12px;
  font-weight:600;
  font-size:14px;
  color:var(--dark);
}

/* INPUT & SELECT */
input,select{
  width:100%;
  padding:14px 14px;
  margin-top:6px;
  border-radius:14px;
  border:1px solid var(--border);
  font-size:15px;
  background:var(--input-bg);
  transition:all .25s ease;
}
input::placeholder{
  color:var(--gray);
}
input:focus,select:focus{
  border-color:var(--primary);
  outline:none;
  box-shadow:0 0 0 3px rgba(78,97,172,.25);
  transform:translateY(-1px);
}

/* DROPDOWN MODERN */
select{
  appearance:none;
  background-image:
    linear-gradient(45deg, transparent 50%, var(--primary) 50%),
    linear-gradient(135deg, var(--primary) 50%, transparent 50%);
  background-position:
    calc(100% - 22px) calc(50% - 4px),
    calc(100% - 16px) calc(50% - 4px);
  background-size:6px 6px;
  background-repeat:no-repeat;
  cursor:pointer;
}

/* HIDDEN */
.hidden{
  display:none;
  animation:fadeIn .25s ease forwards;
}
@keyframes fadeIn{
  from{opacity:0;transform:translateY(6px)}
  to{opacity:1;transform:none}
}

/* FIXED CHECKOUT */
.calculator{
  position:fixed;
  bottom:0;left:0;right:0;
  background:#fff;
  border-top:1px solid var(--border);
  padding:16px 16px 18px;
  box-shadow:0 -7px 35px rgba(0,0,0,.2);
  display:flex;
  flex-direction:column;
  gap:6px;
  border-top-left-radius:22px;
  border-top-right-radius:22px;
}

/* PRICE */
.price{
  font-size:30px;
  font-weight:780;
  color:var(--primary);
  letter-spacing:.3px;
}
.note{
  font-size:11px;
  color:var(--gray);
}

/* BUTTON */
button{
  width:100%;
  padding:13px;
  margin-top:6px;
  font-size:15px;
  border:none;
  border-radius:16px;
  background:linear-gradient(135deg,var(--accent),#e6b800);
  font-weight:700;
  cursor:pointer;
  box-shadow:0 0 0px rgba(110, 110, 110, 0.5);
  transition:all .2s ease;
}
button:hover{
  transform:translateY(-1px);
  box-shadow:0 12px 26px rgba(250,204,21,.5);
}
button:active{
  transform:scale(.98);
}

</style>

</head>
<body>

<header class="header">
  <img src="https://i.ibb.co/hJksP4Pq/Picsart-26-01-13-18-33-26-983.png" alt="KLIKpay Logo"></header>

  <h1 style="text-align: center; margin: 20px 0px 0px; font-size: 23px; color: #36495c;">ðŸ’» Pilih Layanan</h1>
<div class="container">

<select style="margin-top: 20px;" id="layanan">
  <option value="" style="color: #9ca3af;">-- klik disini --</option>
  <option value="pulsa">Pulsa</option>
  <option value="wifi">Wifi</option>
  <option value="telpon">Telpon Ardhy</option>
</select>

<div id="pulsa" class="hidden">
  <label>Provider</label>
  <select id="provider">
    <option>WE Egypt</option>
    <option>Vodafone</option>
    <option>Orange</option>
    <option>Etisalat</option>
  </select>

  <label>Nomor HP</label>
  <input id="hp" placeholder="01500310412">

  <label>Nominal Dakhil</label>
  <input type="number" id="dakhil" min="15" max="2500" placeholder="15 â€“ 2500">
</div>

<div id="wifi" class="hidden">
  <label>Jenis Wifi</label>
  <select id="wifiType">
    <option value="">-- Pilih --</option>
    <option value="idhofi">Idhofi (WE)</option>
    <option value="tajdid">Tajdid</option>
  </select>

  <div id="idhofi" class="hidden">
    <label>Package</label>
    <select id="paket">
      <option value="">--pilih--</option>
      <option value="26000">20 GB</option>
      <option value="52000">50 GB</option>
      <option value="82000">100 GB</option>
      <option value="194000">400 GB</option>
      <option value="745000">2000 GB</option>
    </select>

    <label>Nomor Wifi</label>
    <input id="wifiNo">
  </div>

  <div id="tajdid" class="hidden">
    <label>Provider</label>
    <select id="tajdidProvider">
      <option>WE Egypt</option>
      <option>Etisalat</option>
      <option>Vodafone</option>
      <option>Orange</option>
    </select>

    <label>Nomor Wifi</label>
    <input id="wifiNo2">
  </div>
</div>

<div id="telpon" class="hidden">
  <label>Nomor Wifi / Telepon</label>
  <input id="telpNo">
</div>

</div>

<div class="calculator">
  <div class="price" id="harga">Rp 0</div>
  <div class="note" id="note">Isi form untuk melihat harga</div>
  <button onclick="kirimWA()">Kirim Order WhatsApp</button>
</div>

<script>
// ELEMENTS
const layanan=document.getElementById("layanan");
const hargaEl=document.getElementById("harga");
const noteEl=document.getElementById("note");
const dakhil=document.getElementById("dakhil");

// SHOW / HIDE FORM
layanan.onchange=()=>{
  ["pulsa","wifi","telpon"].forEach(id=>document.getElementById(id).classList.add("hidden"));
  if(layanan.value)document.getElementById(layanan.value).classList.remove("hidden");
  // Reset harga saat ganti layanan
  hargaEl.innerText = "Rp 0";
  noteEl.innerText = "Isi form untuk melihat harga";
};

// PULSA LOGIC (Update Rumus Markup)
    function hitungIdr(bal) {
        // Cek nominal balance spesifik sesuai gambar
        switch (bal) {
            case 20: return 14500;
            case 40: return 25500;
            case 55: return 34000;
            case 60: return 36500;
            case 70: return 41500;
            case 100: return 57500;
            case 130: return 74500;
            case 140: return 80000;
            case 150: return 85500;
            case 260: return 144000;
            default:
                // Jika tidak ada di gambar, gunakan rumus kodingan asli
                let rawK = (bal * 0.5365) + 4;
                let roundedK = Math.round(rawK * 2) / 2;
                return roundedK * 1000;
        }
    }

dakhil.oninput=()=>{
  const h=hitungIdr(parseFloat(dakhil.value));
  hargaEl.innerText=h>0?"Rp "+h.toLocaleString("id-ID"):"Rp 0";
  noteEl.innerText=h>0?"Pulsa "+dakhil.value+" Dakhil":"Nominal invalid (15-2500)";
};

// WIFI LOGIC
wifiType.onchange=()=>{
  idhofi.classList.add("hidden");
  tajdid.classList.add("hidden");
  if(wifiType.value==="idhofi")idhofi.classList.remove("hidden");
  if(wifiType.value==="tajdid"){
    tajdid.classList.remove("hidden");
    hargaEl.innerText="Harga menyesuaikan tagihan";
    noteEl.innerText="";
  }
};
paket.onchange=()=>{
  hargaEl.innerText="Rp "+(+paket.value).toLocaleString("id-ID");
  noteEl.innerText="Wifi Idhofi";
}

// WHATSAPP ORDER
function randomID(){ 
  return Math.random().toString(36).substr(2, 6).toUpperCase();
}

function kirimWA(){
  const id=randomID();
  let msg=`*ORDER MASUK :*\n_KLIKpay-${id}_\n\n- *Service* : ${layanan.value}\n`;
  
  if(layanan.value==="pulsa"){
    const h = hitungIdr(parseFloat(dakhil.value));
    if(!h) { alert("Masukkan nominal yang valid!"); return; }
    msg+=`- *Provider* : ${document.getElementById("provider").value}\n- *Nomor* : ${document.getElementById("hp").value}\n- *Nominal* : ${dakhil.value} Dakhil\n`;
    msg+=`\n*_Tagihan : ${hargaEl.innerText}_*\n`;
  }
  else if(layanan.value==="wifi"){
    if(wifiType.value==="idhofi"){
      msg+=`- *Jenis Wifi* : Idhofi\n- *Package* : ${paket.options[paket.selectedIndex].text}\n- *Nomor* : ${wifiNo.value}\n`;
      msg+=`\n*_Tagihan : ${hargaEl.innerText}_*\n`;
    } else if(wifiType.value==="tajdid"){
      msg+=`- *Jenis Wifi* : Tajdid\n- *Provider* : ${tajdidProvider.value}\n- *Nomor* : ${wifiNo2.value}\n`;
      msg+=`\n*_Tagihan : Harga menyesuaikan tagihan_*\n`;
    }
  }
  else if(layanan.value==="telpon"){
    msg+=`- *Nomor* : ${telpNo.value}\n`;
    msg+=`\n*_Tagihan : Harga menyesuaikan tagihan_*\n`;
  } else {
    alert("Pilih layanan terlebih dahulu!");
    return;
  }

  msg+=`\nâ€‹ðŸ’³ *TRANSFER ONLY :*`;
  msg+=`\n- *Bank Jago S.* : 507465083316\n- *DANA* : 085880856341`;

  window.open("https://wa.me/6285880856341?text="+encodeURIComponent(msg),"_blank");
}
</script>

</body>
</html>
